# 18ì¼ì°¨

## í•¸ë“¤ëŸ¬(Handler)ë€?

- HTTP Requestê°€ ë“¤ì–´ì˜¤ë©´ **ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜(ë©”ì„œë“œ)**
- Expressì—ì„œëŠ” `app.get`, `app.post`, `app.route().get()` ë“±ì— ì „ë‹¬ë˜ëŠ” ì½œë°± í•¨ìˆ˜ê°€ ì „ë¶€ í•¸ë“¤ëŸ¬

```jsx
app.get('/users', (req, res) => {
  res.send('hello'); // ì´ í•¨ìˆ˜ê°€ í•¸ë“¤ëŸ¬
});

```

---

## ifë¬¸: ê¸ì •ë¬¸ìœ¼ë¡œ ì“°ëŠ” ê²Œ ì¢‹ì€ ì´ìœ 

```jsx
fruits.forEach((data) => {
  if (data.id == id) return res.json(data);
});

const find = fruits.find(f => f.id == id);

```

- ìœ„ ë‘ ë¡œì§ì€ **ê²°ê³¼ì ìœ¼ë¡œ ë™ì¼**
- `find`ê°€ ë” ì„ ì–¸ì ì´ê³  ì½ê¸° ì‰¬ì›€
- `forEach + return`ì€ íë¦„ íŒŒì•…ì´ ì–´ë µê³  ì‹¤ìˆ˜ ìœ ë°œ ê°€ëŠ¥

ğŸ‘‰ **ë°°ì—´ íƒìƒ‰ ëª©ì ì´ë©´ `find`, `filter`, `some`ì„ ìš°ì„  ê³ ë ¤**

---

## `==` vs `===`

- `==` : ê°’ë§Œ ë¹„êµ (íƒ€ì… ë³€í™˜ ë°œìƒ)
- `===` : ê°’ + íƒ€ì… ë¹„êµ (ê¶Œì¥)

```jsx
1 == '1'   // true
1 === '1'  // false

```

ğŸ‘‰ **ì‹¤ë¬´ì—ì„œëŠ” ë¬´ì¡°ê±´ `===` ì‚¬ìš© ìŠµê´€**

---

## Map ì£¼ì˜ì‚¬í•­

```jsx
const a = new Map();

if (a) {
  console.log('a'); // ì¶œë ¥ë¨ (ê°ì²´ëŠ” truthy)
}

if (a !== 0) {
  console.log('a'); // ì´ê²ƒë„ ì¶œë ¥ë¨
}

```

- `Map`ì€ ë¹„ì–´ ìˆì–´ë„ **ê°ì²´ â†’ truthy**
- ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´:

```jsx
a.size === 0

```

- `map.get(key)` ê²°ê³¼ê°€ ì—†ìœ¼ë©´ `undefined`
- `undefined` ì²´í¬ í•„ìˆ˜

---

## Express `app.route()` íŒ¨í„´

```jsx
app.route('/users/:id')
  .get((req, res) => {
    const id = parseInt(req.params.id);
    const user = db.get(id);

    if (user === undefined) {
      return res.status(404).json({ message: 'íšŒì› ì •ë³´ê°€ ì—†ë‹¤' });
    }

    res.status(200).json({
      userId: user.userId,
      name: user.name,
    });
  })

  .delete((req, res) => {
    const id = parseInt(req.params.id);
    const user = db.get(id);

    if (user === undefined) {
      return res.status(404).json({ message: 'ì •ë³´ ì—†ìŒ' });
    }

    db.delete(id);
    res.status(200).json({ message: `${user.name}ë‹˜ ë‹´ì—ë´` });
  });

```

### ì¥ì 

- ë™ì¼í•œ URLì— ëŒ€í•œ HTTP ë©”ì„œë“œë“¤ì„ **í•œ ë²ˆì— ê´€ë¦¬**
- ì½”ë“œ ê°€ë…ì„± â†‘
- REST API êµ¬ì¡°ê°€ ëª…í™•í•´ì§

---

## í•œ ì¤„ ìš”ì•½

- í•¸ë“¤ëŸ¬ = ìš”ì²­ ë“¤ì–´ì˜¤ë©´ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
- ì¡°ê±´ë¬¸ì€ ê¸ì •ë¬¸ + early return
- `===` ë¬´ì¡°ê±´ ì‚¬ìš©
- Mapì€ truthy, ë¹„ì—ˆëŠ”ì§€ëŠ” `size`
- ê°™ì€ URLì´ë©´ `app.route()`ë¡œ ë¬¶ê¸°
